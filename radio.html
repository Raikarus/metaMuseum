<html>
 <head>
  <title>AI</title>
  <meta charset="utf-8">  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style type="text/css">
      body
      {
        background-image: url(https://c.wallhere.com/photos/ea/60/abstract_fluid_liquid_artwork_colorful_shapes_ArtStation_dark-2013259.jpg!d);
        background-size: 100% auto;
        margin:0;
        padding: 0;
        min-height: 100vh;
        background-repeat: no-repeat;
        background-position: center;
        background-size: cover;
      }
      #main
      {
        height: 100vh;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      #play_cat
      {
        height: 90vh;
        width: 55%;
        margin-left: 100px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: column;
      }
      .case{
         top: 0;
         width: 100%;
         height: 57vh;
         background-color:rgba(255,255,255,0);
         border-radius: 20px;
         backdrop-filter: blur(50px);
         overflow: hidden;
         align-items: center;
         display: flex;
         justify-content: center;
      }

       .case_norm{
        bottom:0px;
        width: 100%;
        height: 27vh;
        background-color:rgba(255,255,255,0);
        border-radius: 20px;
        backdrop-filter: blur(50px);
        overflow: hidden;
        align-items: center;
        display: flex;
        justify-content: center;
      }

      #right_inf
      {
        height: 90vh;
        width: 40%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-direction: column;
      }
       .case_small_1{
        width: 85%;
        height: 27vh;
        background-color:rgba(255,255,255,0);
        border-radius: 20px;
        backdrop-filter: blur(50px);
        overflow: hidden;
        display: flex;
        justify-content: space-around;
        align-items: center;
      }
      .case_small_2{
        width: 85%;
        height: 57vh;
        background-color:rgba(255,255,255,0);
        border-radius: 20px;
        backdrop-filter: blur(50px);
        overflow: hidden;
               justify-content: space-between;
        align-items: center;
        flex-direction: column;
       
      }

      .ass_button{
        max-height: 100%;
        height: 250px;
        width: 250px;
        /*outline: 1px solid rgba(255,255,255,0); */
        border-radius: 200px;
        background-color:rgba(255,255,255,0);
        backdrop-filter: blur(50px);
        align-items: center;
        display: flex;
        justify-content: center;
      }
      .switch_button{
         max-height: 100%;
        height: 150px;
        width: 150px;
        /*outline: 1px solid rgba(255,255,255,0); */
        border-radius: 200px;
        background-color:rgba(255,255,255,0);
        backdrop-filter: blur(50px);
        display: flex;
        justify-content: center;
        align-items: center;
        display:inline;
        
      }
      #canvas {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        filter: blur(7px);
      }

      #devka
      {
        height: 100%;
        position: fixed;
        z-index: 99;
      }

      @media screen and (max-device-width: 750px)
      {
        #main
        {
          justify-content: center;
        }
        .case
        {
            height: 45vh;
        }
        #right_inf
        {
          display: none;
        }
        #play_cat
        {
            height: 75vh;
          width: 70%;
          margin: 0;
        }
        #devka
        {
          width:90%;

          height: auto;
          bottom: 0;
        }
      }
</style>
  
    <script>
        
         var audio;
          audio = new Audio(); // Создаём новый элемент Audio
    audio.src = 'http://s0.radioheart.ru:8000/RH62990'; // Указываем путь к звуку "клика"
var flag = false;
function switch_play(chanel)
{
    switch (chanel) {
  case 1:
     audio.src = 'https://icecast-mirtv.cdnvideo.ru/radio_mir128';
    break;
  case 2:
     audio.src ="https://radio.stereoanime.net/listen/stereoanime/128";
    break;
  case 3:
    audio.src = 'http://s0.radioheart.ru:8000/RH62990';
    break;
  default:
     audio.src = 'http://s0.radioheart.ru:8000/RH62990';
}
    
  
  
}
function audio_play()
{
  if(!flag)
  {
    hard();
    flag = true;
  }
  audio.paused ? audio.play() : audio.pause();
}
    function hard(){
   
    audio.crossOrigin = "anonymous";
    audio.load();
    audio.volume=0.1;
    var context = new AudioContext();
    var src = context.createMediaElementSource(audio);
    var analyser = context.createAnalyser();

    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");

    src.connect(analyser);
    analyser.connect(context.destination);

    analyser.fftSize = 256;

    var bufferLength = analyser.frequencyBinCount;
    console.log(bufferLength);

    var dataArray = new Uint8Array(bufferLength);

    var WIDTH = canvas.width;
    var HEIGHT = canvas.height;

    var barWidth = (WIDTH / bufferLength) * 2.5;
    var barHeight;
    var x = 0;

    function renderFrame() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
      requestAnimationFrame(renderFrame);
        
      x = 0;

      analyser.getByteFrequencyData(dataArray);

      ctx.fillStyle = "rgba(255,255,255,0)";
      
      ctx.fillRect(0, 0, WIDTH, HEIGHT);

      for (var i = 0; i < bufferLength; i++) {
        barHeight = dataArray[i] ;
        
        var r = barHeight + (25 * (i/bufferLength)) -50;
        var g = 250 * (i/bufferLength) - 110;
        var b = 100;
        
        ctx.fillStyle = "rgb(" + r + "," + g + "," + b + ")";
        barHeight = dataArray[i] /2;
        ctx.fillRect(x, HEIGHT - barHeight, barWidth, barHeight);

        x += barWidth + 1;

      }
    }
    
    //audio.play();
    renderFrame();

 
};

    </script>

 </head>

 <body>
    <div id = "main">
    <div id = "play_cat">
      <div class = "case">
          
          <img id = "devka" src = "https://cdn130.picsart.com/304871995484211.png">

         <canvas id="canvas"></canvas>

      </div>

       <div class = "case_norm" >
          <button class = "ass_button" onclick="audio_play()"> 
              <img src="cat.png" width="100%">

          </button>
             
      </div>
    </div>
    <div id = "right_inf">
     <div class = "case_small_1" >
         <button class = "switch_button" onclick="switch_play(1)">  <img src="cringe.png" width="100%"> </button>
        
         <button class = "switch_button" onclick="switch_play(2)">  <img src="https://prod.cloud.rockstargames.com/crews/sc/1304/39090563/publish/emblem/emblem_512.png" width="90%"> </button>

          <button class = "switch_button" onclick="switch_play(3)"> <img src="radio_hearth.png" width="90%" height="90%"> </button>
    </div>

      <div class = "case_small_2" >
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diem 
  nonummy nibh euismod tincidunt ut lacreet dolore magna aliguam erat volutpat.
 Ut wisis enim ad minim veniam, quis nostrud exerci tution ullamcorper 
  suscipit lobortis nisl ut aliquip ex ea commodo consequat.
    </div>
    </div>
    </div>
 </body>
</html>